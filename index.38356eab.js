const t=[{startIndex:0,endIndex:1,elementId:"button-1735586640397"},{startIndex:1,endIndex:2,elementId:"button-1735586712670"},{startIndex:1,endIndex:2,elementId:"button-1735586688613-1goffd89d"},{startIndex:2,endIndex:3,elementId:"button-1735586831474"},{startIndex:4,endIndex:5,elementId:"button-1735588035197"},{startIndex:6,endIndex:7,elementId:"button-1735589992793-xnnojbotc"},{startIndex:6,endIndex:7,elementId:"button-1735590034216"},{startIndex:6,endIndex:7,elementId:"button-1735590034856"},{startIndex:6,endIndex:7,elementId:"button-1735590035733"},{startIndex:7,endIndex:8,elementId:"button-1735590700480"},{startIndex:5,endIndex:9,elementId:"choice-1735599686658"},{startIndex:9,endIndex:6,elementId:"button-1735601667950"},{startIndex:3,endIndex:10,elementId:"button-1735587139658"},{startIndex:10,endIndex:4,elementId:"button-1735606676159"},{startIndex:8,endIndex:11,elementId:"button-1736006865081"},{startIndex:12,endIndex:13,elementId:"input-1736011638060"},{startIndex:11,endIndex:12,elementId:"input-1736007016216"},{startIndex:11,endIndex:12,elementId:"input-1736171053033"},{startIndex:12,endIndex:13,elementId:"input-1736171162981"}],e={webhookUrl:"https://script.google.com/macros/s/AKfycbz8C1Sp8GQJdGrHNH8sgNHLDkiT3KDQodhQbC2qhdc_4_wo6VWInUnpZXPkl-TEbMqz/exec",quizId:"quiz_"+Date.now(),quizName:"Terrace",quizCategory:"Teste"},o={quizName:e.quizName,startTime:Date.now(),endTime:null,furthestSection:"section-0",responses:{},city:"",state:"",postalCode:"",device:"",nome:"",email:"",whatsapp:""};o.device=function(){let t=navigator.userAgent;return/android/i.test(t)?"Android":/iPhone|iPad|iPod/i.test(t)?"iOS":/Windows Phone/i.test(t)?"Windows Phone":/Macintosh/i.test(t)?"Mac":/Windows/i.test(t)?"Windows":/Linux/i.test(t)?"Linux":"Other"}();let n=!1;function l(){if(n)return;n=!0,o.endTime=Date.now(),o.nome=d.nome||"",o.email=d.email||"",o.whatsapp=d.whatsapp||"";let t=new Blob([new URLSearchParams({data:JSON.stringify([o])})],{type:"application/x-www-form-urlencoded"});navigator.sendBeacon(e.webhookUrl,t)}function i(t){if(n)return;n=!0,o.nome=d.nome||"",o.email=d.email||"",o.whatsapp=d.whatsapp||"",o.city=o.city||"Desconhecida";let l=[o],i=new Blob([new URLSearchParams({data:JSON.stringify(l)})],{type:"application/x-www-form-urlencoded"});navigator.sendBeacon(e.webhookUrl,i)?window.location.href=t:fetch(e.webhookUrl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({data:JSON.stringify(l)})}).then(()=>{window.location.href=t}).catch(e=>{console.error("Erro ao enviar analytics:",e),window.location.href=t})}window.addEventListener("pagehide",l),window.addEventListener("beforeunload",l),document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&l()}),document.addEventListener("click",function(e){let n=e.target.closest(".mobile-button");if(n){if(n.disabled||"none"===n.style.pointerEvents)return;let e=n.getAttribute("data-link");if(e){o.endTime=Date.now(),i(e);return}let l=n.id,r=t.find(t=>t.elementId===l);if(r){let t=r.startIndex,e=n.querySelector(".text").textContent;o.responses["section_"+t]=e,s("section-"+r.endIndex)}}});let r=!1;async function a(){if(!r){r=!0,console.log("Iniciando fetchUserLocation...");try{let t=await fetch("https://ipapi.co/json/");if(!t.ok)throw Error("ipapi.co falhou");let e=await t.json();if(!e)throw Error("Nenhum dado recebido da ipapi.co");o.city=e.city||"Desconhecida",o.state=e.region||"Desconhecido",o.postalCode=e.postal||"Desconhecido",console.log("Localização do usuário:",o.city,o.state,o.postalCode)}catch(t){console.error("Erro ao buscar a localização via ipapi.co:",t),o.city="Desconhecida",o.state="Desconhecido",o.postalCode="Desconhecido"}}}function s(e){console.log("Showing section:",e),document.querySelectorAll(".quiz-section").forEach(t=>{t.classList.remove("active"),t.querySelectorAll(".mobile-gallery").forEach(t=>{t.galleryInstance&&t.galleryInstance.stopAutoplay()}),t.querySelectorAll(".mobile-button").forEach(t=>{t.style.opacity="0",t.style.transition="none",t.style.pointerEvents="none"})});let l=document.getElementById(e);l&&(l.classList.add("active"),window.scrollTo({top:0,behavior:"auto"}),document.documentElement.scrollTop=0,document.body.scrollTop=0,function(t){t.querySelectorAll(".mobile-button[data-delay]").forEach(t=>{t.style.opacity="0",t.style.pointerEvents="none";let e=parseFloat(t.getAttribute("data-delay"));setTimeout(()=>{t.style.opacity="1",t.style.pointerEvents="auto"},isNaN(e)?0:1e3*e)})}(l),l.querySelectorAll(".mobile-button:not([data-delay])").forEach(t=>{t.style.opacity="1",t.style.transition="opacity 0.3s ease",t.style.pointerEvents="auto"}),function(e){e.querySelectorAll(".mobile-progress").forEach(function(e){let l=e.querySelector(".progress-fill"),r=e.querySelector(".progress-value"),a=parseInt(e.getAttribute("data-start"))||0,d=parseInt(e.getAttribute("data-end"))||100,c="true"===e.getAttribute("data-enable-redirect"),u=parseInt(e.getAttribute("data-duration"))||1;console.log("Animating progress bar:",e.id,"from",a,"to",d,"duration:",u),l.style.width=a+"%",r.textContent=a+"%";let h=a,y=(d-a)/(50*u),p=setInterval(function(){(h+=y)>=d&&(h=d,clearInterval(p),console.log("Progress bar reached 100%"),c)&&"true"===e.getAttribute("data-enable-redirect")&&setTimeout(function(){let l=e.getAttribute("data-redirect-link");if(l)n?window.location.href=l:(o.endTime=Date.now(),i(l));else{let o=t.find(function(t){return t.elementId===e.id});o&&s("section-"+o.endIndex)}},1e3),l.style.width=h+"%",r.textContent=Math.round(h)+"%"},20)})}(l),function(t){Array.from(t.getElementsByTagName("*")).filter(t=>!t.children.length&&t.textContent.includes("{{")).map(t=>({element:t,original:t.textContent})).forEach(({element:t,original:e})=>{let n=e;(n.match(/{{([^}]+)}}/g)||[]).forEach(t=>{let e=t.slice(2,-2).trim(),l=d[e]||o[e]||"";n=n.replace(t,l)}),t.textContent=n})}(l),c(l.querySelector(".input-widget")),function(t=document){t.querySelectorAll(".mobile-gallery").forEach(t=>{let e=t.galleryInstance;e&&e.stopAutoplay(),t.galleryInstance=new u(t)})}(l),a(),(parseInt(e.split("-")[1])||0)>(parseInt(o.furthestSection.split("-")[1])||0)&&(o.furthestSection=e))}document.addEventListener("DOMContentLoaded",function(){console.log("DOM fully loaded");let t=document.querySelector(".quiz-section");t&&t.id?(console.log("Activating first section using showSection"),s(t.id),n=!1):console.error("Primeira seção não encontrada ou não possui um ID.")}),document.querySelectorAll(".mobile-button").forEach(function(t){let e=t.getAttribute("data-hover-color");e&&t.style.setProperty("--hover-color",e)}),document.addEventListener("DOMContentLoaded",function(){let e=()=>{document.querySelectorAll(".mobile-multiple-choice").forEach(e=>{let{options:o,continueButton:n,continueColor:l,checkboxColor:i}=function(t){let e=t.querySelectorAll(".option-button"),o=t.querySelector(".continue-button"),n=o.style.backgroundColor,l=e[0]?.querySelector(".checkbox")?.style.borderColor||"#d6d6d6";e.forEach(t=>{let e=t.cloneNode(!0);t.parentNode.replaceChild(e,t)});let i=o.cloneNode(!0);return o.parentNode.replaceChild(i,o),t.querySelectorAll(".option-button").forEach(t=>{t.classList.remove("active");let e=t.querySelector(".checkbox");e&&(e.style.backgroundColor="",e.style.borderColor=l)}),i.classList.remove("active"),i.style.opacity="0.5",i.style.cursor="not-allowed",{options:t.querySelectorAll(".option-button"),continueButton:i,continueColor:n,checkboxColor:l}}(e);function r(t){t.preventDefault(),this.classList.toggle("active");let o=this.querySelector(".checkbox");this.classList.contains("active")?o.style.backgroundColor=i:o.style.backgroundColor="",o.style.borderColor=i,function(t,e){let o=t.querySelectorAll(".option-button.active").length>0;e.classList.toggle("active",o),e.style.opacity=o?"1":"0.5",e.style.cursor=o?"pointer":"not-allowed"}(e,n)}o.forEach(t=>{t.addEventListener("click",r)}),n.addEventListener("click",()=>{if(e.querySelectorAll(".option-button.active").length>0){let o=t.find(t=>t.elementId===e.id);o&&s("section-"+o.endIndex)}})})};e();let o=new MutationObserver(t=>{t.forEach(t=>{t.target.classList.contains("active")&&(e(),c(t.target.querySelector(".input-widget")))})});document.querySelectorAll(".quiz-section").forEach(t=>{o.observe(t,{attributes:!0,attributeFilter:["class"]})})});let d=JSON.parse(sessionStorage.getItem("userVariables")||"{}");function c(e){if(!e)return;let o=e.querySelector(".input-field"),n=e.querySelector(".continue-button"),l=o.getAttribute("data-variable");n.disabled=!0,n.style.opacity="0.5",n.style.cursor="not-allowed",d[l]&&(o.value=d[l],n.disabled=!1,n.style.opacity="1",n.style.cursor="pointer"),o.addEventListener("input",function(){let t=this.value.trim().length>0;n.disabled=!t,n.style.opacity=t?"1":"0.5",n.style.cursor=t?"pointer":"not-allowed",d[l]=this.value,sessionStorage.setItem("userVariables",JSON.stringify(d))}),n.addEventListener("click",function(){if(o.value.trim().length>0){let o=t.find(t=>t.elementId===e.id);o&&s("section-"+o.endIndex)}})}class u{constructor(t){this.gallery=t,this.track=t.querySelector(".gallery-track"),this.slides=[...t.querySelectorAll(".gallery-slide")],this.dots=[...t.querySelectorAll(".gallery-dot")],this.currentSlide=0,this.autoplayInterval=null;let e=t.querySelectorAll(".gallery-dot"),o=e[0],n=e[1];this.dotActiveColor=o?.style.backgroundColor||"#9333ea",this.dotColor=n?.style.backgroundColor||"#ccc",this.dots.forEach((t,e)=>{t.style.transition="all 0.3s ease",this.updateDotStyle(t,0===e)}),this.dots.forEach((t,e)=>{t.addEventListener("click",()=>this.goToSlide(e))}),this.touchStartX=0,this.touchEndX=0,this.track.addEventListener("touchstart",t=>this.touchStart(t)),this.track.addEventListener("touchmove",t=>this.touchMove(t)),this.track.addEventListener("touchend",t=>this.touchEnd(t)),this.track.addEventListener("mouseenter",()=>this.stopAutoplay()),this.track.addEventListener("mouseleave",()=>this.startAutoplay()),this.updateDotColors(),this.startAutoplay()}updateDotStyle(t,e){t.style.backgroundColor=e?this.dotActiveColor:this.dotColor,t.style.transform=e?"scale(1.2)":"scale(1)"}updateDotColors(){this.dots.forEach((t,e)=>{this.updateDotStyle(t,e===this.currentSlide)})}startAutoplay(){this.stopAutoplay(),this.autoplayInterval=setInterval(()=>this.next(),3e3)}stopAutoplay(){this.autoplayInterval&&(clearInterval(this.autoplayInterval),this.autoplayInterval=null)}updateSlide(){this.track.style.transition="transform 0.3s ease",this.track.style.transform=`translateX(-${100*this.currentSlide}%)`,this.updateDotColors()}next(){this.currentSlide=(this.currentSlide+1)%this.slides.length,this.updateSlide()}prev(){this.currentSlide=(this.currentSlide-1+this.slides.length)%this.slides.length,this.updateSlide()}goToSlide(t){this.currentSlide=t,this.updateSlide(),this.stopAutoplay(),this.startAutoplay()}touchStart(t){this.touchStartX=t.touches[0].clientX,this.stopAutoplay(),this.track.style.transition="none"}touchMove(t){if(!this.touchStartX)return;t.preventDefault();let e=t.touches[0].clientX,o=-(this.touchStartX-e+this.currentSlide*this.gallery.offsetWidth);this.track.style.transform=`translateX(${o}px)`}touchEnd(t){let e=t.changedTouches[0].clientX,o=this.touchStartX-e;Math.abs(o)>50?o>0?this.next():this.prev():this.updateSlide(),this.touchStartX=0,this.startAutoplay()}}const h=new Map,y=new MutationObserver(t=>{t.forEach(t=>{t.target.classList.contains("active")&&t.target.querySelectorAll(".mobile-video").forEach(t=>{h.has(t.id.split("-")[1])||function(t){let e=t.id.split("-")[1],o=t.querySelector(`#start-overlay-${e}`),n=t.querySelector(`#pause-overlay-${e}`),l=t.querySelector(`#blur-bg-${e}`);if(!t.querySelector(`#youtube-video-${e}`))return;let i=new YT.Player(`youtube-video-${e}`,{events:{onReady:function(){o.style.display="flex",l.style.display="block",i.setPlaybackQuality("hd1080"),o.onclick=()=>{i.playVideo(),o.style.display="none",l.style.display="none"},n.onclick=()=>{i.playVideo(),n.style.display="none",l.style.display="none"}},onStateChange:function(t){t.data===YT.PlayerState.PAUSED?(n.style.display="flex",l.style.display="block"):t.data===YT.PlayerState.ENDED?(o.style.display="flex",n.style.display="none",l.style.display="block"):t.data===YT.PlayerState.PLAYING&&(o.style.display="none",n.style.display="none",l.style.display="none",i.setPlaybackQuality("hd1080"))}}});h.set(e,i)}(t)})})});document.querySelectorAll(".quiz-section").forEach(t=>{y.observe(t,{attributes:!0,attributeFilter:["class"],subtree:!0})}),document.querySelectorAll(".input-widget").forEach(c);
//# sourceMappingURL=index.38356eab.js.map
